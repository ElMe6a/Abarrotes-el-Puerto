<?xml version="1.0" encoding="UTF-8"?>
<templates id="template" xml:space="preserve">

    <t t-name="ClientDetailsEdit" t-inherit="point_of_sale.ClientDetailsEdit"
       t-inherit-mode="extension" owl="1">
        <xpath expr="//input[hasclass('client-name')]" position="after">
            <div class="client-details-box clearfix">
                <div class='client-details-right mb-3'
                     style="font-size: initial;">
                    <div class='client-detail'>
                        <span class='label'>Credit</span>
                        <t t-if="props.partner.credit">
                            <span class='detail credit'><t t-esc='props.partner.credit'/></span>
                        </t>
                        <t t-if="!props.partner.credit">
                            <span class='detail credit empty'><t t-esc='props.partner.credit'/></span>
                        </t>
                    </div>
                </div>
                <div class='client-details-left mb-3'
                     style="font-size: initial;">
                    <div class='client-detail'>
                        <span class='label'>Limit</span>
                        <t t-if="props.partner.blocking_stage">
                            <span class='detail credit'><t t-esc='props.partner.blocking_stage'/></span>
                        </t>
                        <t t-if="!props.partner.blocking_stage">
                            <span class='detail credit empty'>N/A</span>
                        </t>
                    </div>
                </div>
            </div>
        </xpath>
    </t>
    <t t-name="ClientListScreen" t-inherit="point_of_sale.ClientListScreen"
       t-inherit-mode="extension" owl="1">
        <xpath expr="//table[hasclass('client-list')]//th[last()]"
               position="after">
                <th>Credit</th>
            <th>Credit Limit</th>
        </xpath>
    </t>
    <t t-name="ClientLine" t-inherit="point_of_sale.ClientLine"
       t-inherit-mode="extension" owl="1">
        <xpath expr="//tr/td[last()]" position="after">
            <td t-attf-class="client-warning_stage">
                <t t-if="props.partner.active_limit">
                    <t t-if="props.partner.credit">
                        <t t-esc="props.partner.credit"/>
                    </t>
                    <t t-if="!props.partner.credit">
                        <span>0</span>
                    </t>
                </t>
                <t t-if="!props.partner.active_limit">
                        <span>N/A</span>
                </t>
            </td>
            <td t-attf-class="client-blocking_stage">
                <t t-if="props.partner.active_limit">
                    <t t-if="props.partner.blocking_stage">
                        <t t-if="props.partner.blocking_stage &lt;= props.partner.credit">
                            <span style="color:red;"><t t-esc='props.partner.blocking_stage'/></span>
                        </t>
                        <t t-if="props.partner.blocking_stage &gt; props.partner.credit">
                            <t t-esc='props.partner.blocking_stage'/>
                        </t>

                    </t>
                    <t t-if="!props.partner.blocking_stage">
                        <span>0</span>
                    </t>
                </t>
                <t t-if="!props.partner.active_limit">
                        <span>N/A</span>
                </t>
            </td>
        </xpath>
    </t>
</templates>